<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1400" width="1200" height="1400">
  <!-- Background -->
  <rect width="1200" height="1400" fill="#f8fafc"/>
  
  <!-- Title -->
  <rect x="0" y="0" width="1200" height="70" fill="#1e293b"/>
  <text x="600" y="35" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#ffffff">
    Blogify - Serverless Architecture
  </text>
  <text x="600" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#94a3b8">
    Headless Blogging Platform on AWS
  </text>
  
  <!-- CLIENT LAYER -->
  <rect x="50" y="100" width="1100" height="200" fill="#dbeafe" stroke="#2563eb" stroke-width="3" rx="10"/>
  <text x="600" y="130" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#1e40af">
    CLIENT LAYER
  </text>
  
  <!-- React App -->
  <rect x="100" y="150" width="1000" height="130" fill="#ffffff" stroke="#3b82f6" stroke-width="2" rx="8"/>
  <text x="600" y="180" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="#1e293b">
    React SPA (Vite + TailwindCSS + React Router)
  </text>
  
  <!-- Pages -->
  <rect x="130" y="200" width="220" height="60" fill="#eff6ff" stroke="#60a5fa" stroke-width="1.5" rx="5"/>
  <text x="240" y="225" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#1e40af">Pages</text>
  <text x="240" y="245" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">Login, Dashboard, Editor</text>
  <text x="240" y="258" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">Posts, Users</text>
  
  <!-- Components -->
  <rect x="380" y="200" width="220" height="60" fill="#eff6ff" stroke="#60a5fa" stroke-width="1.5" rx="5"/>
  <text x="490" y="225" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#1e40af">Components</text>
  <text x="490" y="245" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">Navbar, SearchBar</text>
  <text x="490" y="258" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">Auth Guards</text>
  
  <!-- State -->
  <rect x="630" y="200" width="220" height="60" fill="#eff6ff" stroke="#60a5fa" stroke-width="1.5" rx="5"/>
  <text x="740" y="225" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#1e40af">State &amp; Services</text>
  <text x="740" y="245" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">AuthContext, API Client</text>
  <text x="740" y="258" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">Hooks (Debounce)</text>
  
  <!-- Tools -->
  <rect x="880" y="200" width="180" height="60" fill="#e0e7ff" stroke="#6366f1" stroke-width="1.5" rx="5"/>
  <text x="970" y="225" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#4338ca">Tools</text>
  <text x="970" y="245" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">Axios, Router</text>
  
  <!-- Arrow -->
  <line x1="600" y1="300" x2="600" y2="340" stroke="#64748b" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="640" y="325" font-family="Arial, sans-serif" font-size="12" font-style="italic" fill="#334155">HTTPS</text>
  
  <!-- API GATEWAY LAYER -->
  <rect x="50" y="350" width="1100" height="220" fill="#fee2e2" stroke="#dc2626" stroke-width="3" rx="10"/>
  <text x="600" y="380" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#991b1b">
    API GATEWAY LAYER
  </text>
  
  <rect x="200" y="400" width="800" height="150" fill="#ffffff" stroke="#dc2626" stroke-width="2" rx="8"/>
  <text x="600" y="430" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="#991b1b">
    AWS API Gateway (REST API)
  </text>
  
  <!-- Middleware -->
  <rect x="230" y="450" width="150" height="80" fill="#fef2f2" stroke="#f87171" stroke-width="1.5" rx="4"/>
  <text x="305" y="475" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#991b1b">CORS</text>
  <text x="305" y="495" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Origin</text>
  <text x="305" y="508" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Validation</text>
  <text x="305" y="521" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Whitelist</text>
  
  <rect x="410" y="450" width="150" height="80" fill="#fef2f2" stroke="#f87171" stroke-width="1.5" rx="4"/>
  <text x="485" y="475" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#991b1b">Rate Limit</text>
  <text x="485" y="495" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">100 req/min</text>
  <text x="485" y="508" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">per IP</text>
  <text x="485" y="521" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">DDoS Protection</text>
  
  <rect x="590" y="450" width="150" height="80" fill="#fef2f2" stroke="#f87171" stroke-width="1.5" rx="4"/>
  <text x="665" y="475" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#991b1b">Cognito Auth</text>
  <text x="665" y="495" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">JWT Token</text>
  <text x="665" y="508" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Authorizer</text>
  <text x="665" y="521" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Role-Based</text>
  
  <rect x="770" y="450" width="150" height="80" fill="#fef2f2" stroke="#f87171" stroke-width="1.5" rx="4"/>
  <text x="845" y="475" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#991b1b">Validation</text>
  <text x="845" y="495" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Input</text>
  <text x="845" y="508" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Sanitization</text>
  <text x="845" y="521" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">File Types</text>
  
  <!-- Arrow -->
  <line x1="600" y1="570" x2="600" y2="610" stroke="#64748b" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- COMPUTE LAYER -->
  <rect x="50" y="620" width="1100" height="280" fill="#e0e7ff" stroke="#4f46e5" stroke-width="3" rx="10"/>
  <text x="600" y="650" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#3730a3">
    COMPUTE LAYER - AWS Lambda Functions (Node.js 18.x)
  </text>
  
  <!-- Auth Functions -->
  <rect x="100" y="680" width="230" height="190" fill="#ffffff" stroke="#6366f1" stroke-width="2" rx="6"/>
  <text x="215" y="710" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#3730a3">Auth Functions</text>
  <line x1="120" y1="720" x2="310" y2="720" stroke="#c7d2fe" stroke-width="1"/>
  <text x="215" y="745" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• signup</text>
  <text x="215" y="765" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• login</text>
  <text x="215" y="785" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• logout</text>
  <rect x="115" y="800" width="200" height="55" fill="#eef2ff" rx="4"/>
  <text x="215" y="820" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4338ca">Cognito Integration</text>
  <text x="215" y="835" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">JWT Tokens</text>
  <text x="215" y="848" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">User Management</text>
  
  <!-- Posts Functions -->
  <rect x="360" y="680" width="230" height="190" fill="#ffffff" stroke="#6366f1" stroke-width="2" rx="6"/>
  <text x="475" y="710" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#3730a3">Posts Functions</text>
  <line x1="380" y1="720" x2="570" y2="720" stroke="#c7d2fe" stroke-width="1"/>
  <text x="475" y="745" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• createPost</text>
  <text x="475" y="765" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• getPost / getAllPosts</text>
  <text x="475" y="785" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• updatePost / deletePost</text>
  <rect x="375" y="800" width="200" height="55" fill="#eef2ff" rx="4"/>
  <text x="475" y="820" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4338ca">DynamoDB Operations</text>
  <text x="475" y="835" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">CRUD + Search</text>
  <text x="475" y="848" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">View Counter</text>
  
  <!-- Media Functions -->
  <rect x="620" y="680" width="230" height="190" fill="#ffffff" stroke="#6366f1" stroke-width="2" rx="6"/>
  <text x="735" y="710" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#3730a3">Media Functions</text>
  <line x1="640" y1="720" x2="830" y2="720" stroke="#c7d2fe" stroke-width="1"/>
  <text x="735" y="745" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• getSignedUrls</text>
  <text x="735" y="765" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• URL generation</text>
  <text x="735" y="785" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• File validation</text>
  <rect x="635" y="800" width="200" height="55" fill="#eef2ff" rx="4"/>
  <text x="735" y="820" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4338ca">S3 Integration</text>
  <text x="735" y="835" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Pre-signed URLs</text>
  <text x="735" y="848" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Secure Access</text>
  
  <!-- Admin Functions -->
  <rect x="880" y="680" width="230" height="190" fill="#ffffff" stroke="#6366f1" stroke-width="2" rx="6"/>
  <text x="995" y="710" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#3730a3">Admin Functions</text>
  <line x1="900" y1="720" x2="1090" y2="720" stroke="#c7d2fe" stroke-width="1"/>
  <text x="995" y="745" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• getUsers</text>
  <text x="995" y="765" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• manageUser</text>
  <text x="995" y="785" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#475569">• Role management</text>
  <rect x="895" y="800" width="200" height="55" fill="#eef2ff" rx="4"/>
  <text x="995" y="820" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4338ca">User Management</text>
  <text x="995" y="835" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">RBAC Control</text>
  <text x="995" y="848" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Groups Management</text>
  
  <!-- Arrows down -->
  <line x1="215" y1="900" x2="215" y2="940" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="475" y1="900" x2="475" y2="940" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="735" y1="900" x2="735" y2="940" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="995" y1="900" x2="995" y2="940" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- DATA LAYER -->
  <rect x="50" y="950" width="1100" height="380" fill="#dcfce7" stroke="#16a34a" stroke-width="3" rx="10"/>
  <text x="600" y="980" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#166534">
    DATA LAYER - AWS Services
  </text>
  
  <!-- Cognito -->
  <rect x="100" y="1010" width="330" height="290" fill="#ffffff" stroke="#22c55e" stroke-width="2" rx="6"/>
  <text x="265" y="1040" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#166534">AWS Cognito User Pool</text>
  <line x1="120" y1="1050" x2="410" y2="1050" stroke="#bbf7d0" stroke-width="1"/>
  <text x="265" y="1075" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#15803d">Authentication &amp; Authorization</text>
  <text x="265" y="1100" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Email/Password Auth</text>
  <text x="265" y="1120" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• JWT Tokens (Access, ID, Refresh)</text>
  <text x="265" y="1140" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• User Pool Groups:</text>
  <text x="265" y="1158" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">  - admin (full access)</text>
  <text x="265" y="1176" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">  - editor (create/edit posts)</text>
  <text x="265" y="1194" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">  - guest (read-only)</text>
  <text x="265" y="1220" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Password Policy Enforcement</text>
  <text x="265" y="1238" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Email Verification</text>
  <text x="265" y="1256" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Token Expiration: 60min</text>
  <rect x="120" y="1265" width="290" height="25" fill="#f0fdf4" rx="4"/>
  <text x="265" y="1281" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#166534">Secure User Management</text>
  
  <!-- DynamoDB -->
  <rect x="460" y="1010" width="330" height="290" fill="#ffffff" stroke="#22c55e" stroke-width="2" rx="6"/>
  <text x="625" y="1040" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#166534">AWS DynamoDB</text>
  <line x1="480" y1="1050" x2="770" y2="1050" stroke="#bbf7d0" stroke-width="1"/>
  <text x="625" y="1075" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#15803d">Posts Table</text>
  <text x="625" y="1100" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Partition Key: postId (UUID)</text>
  <text x="625" y="1120" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• GSI: createdAt (for sorting)</text>
  <text x="625" y="1140" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Attributes:</text>
  <text x="625" y="1158" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">title, content, author,</text>
  <text x="625" y="1173" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">authorEmail, authorName,</text>
  <text x="625" y="1188" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">tags, status (draft/published),</text>
  <text x="625" y="1203" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">views, mediaUrls,</text>
  <text x="625" y="1218" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">createdAt, updatedAt, publishedAt</text>
  <text x="625" y="1240" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• On-Demand Billing</text>
  <text x="625" y="1258" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Auto-scaling</text>
  <rect x="480" y="1265" width="290" height="25" fill="#f0fdf4" rx="4"/>
  <text x="625" y="1281" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#166534">NoSQL Database</text>
  
  <!-- S3 -->
  <rect x="820" y="1010" width="330" height="290" fill="#ffffff" stroke="#22c55e" stroke-width="2" rx="6"/>
  <text x="985" y="1040" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#166534">AWS S3</text>
  <line x1="840" y1="1050" x2="1130" y2="1050" stroke="#bbf7d0" stroke-width="1"/>
  <text x="985" y="1075" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#15803d">Media Storage Bucket</text>
  <text x="985" y="1100" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Structure:</text>
  <text x="985" y="1118" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">media/{userEmail}/{uuid}.ext</text>
  <text x="985" y="1140" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Supported Formats:</text>
  <text x="985" y="1158" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Images: JPEG, PNG, GIF, WebP</text>
  <text x="985" y="1173" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Videos: MP4, MPEG</text>
  <text x="985" y="1195" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Max File Size: 10MB</text>
  <text x="985" y="1213" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#475569">• Pre-signed URLs:</text>
  <text x="985" y="1231" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Published: 24h expiration</text>
  <text x="985" y="1246" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#64748b">Drafts: 1h expiration</text>
  <rect x="840" y="1265" width="290" height="25" fill="#f0fdf4" rx="4"/>
  <text x="985" y="1281" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#166534">Secure File Storage</text>
  
  <!-- Additional Services -->
  <rect x="100" y="1330" width="1050" height="50" fill="#f1f5f9" stroke="#94a3b8" stroke-width="2" rx="6"/>
  <text x="625" y="1350" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#475569">
    Additional AWS Services
  </text>
  <text x="200" y="1368" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">CloudWatch</text>
  <text x="400" y="1368" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">IAM Roles</text>
  <text x="600" y="1368" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">CloudFormation</text>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#64748b"/>
    </marker>
  </defs>
</svg>